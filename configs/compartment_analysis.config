// Copyright (C) 2022 Roberto Rossini <roberros@uio.no>
//
// SPDX-License-Identifier: MIT

params {
    data_dir = 'data'
    input_dir = "${data_dir}/input"
    output_dir = "${data_dir}/output/compartment_analysis"

    mcools = "${data_dir}/output/nfcore_hic/mcools/*.mcool"
    resolutions = '10000,20000,50000,100000,200000,500000'

    ref_genome_name = 'hg38'
    ref_genome = "${data_dir}/output/preprocessing/assemblies/GRCh38_genome_assembly.fna"
    dchic_sample_file = "${input_dir}/dchic/wt_vs_t1_vs_c1.tsv"
}

process {
    container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/dchic:d4eb244'

    withName:generate_subcompartment_transition_report {
        container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/plotting:1.0.0'
    }
    withName:plot_subcompartment_coverage {
        container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/plotting:1.0.0'
    }
    withName:plot_subcompartment_size_distribution {
        container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/plotting:1.0.0'
    }

}

singularity {
    cacheDir = 'containers/cache'
    enabled = true
}
