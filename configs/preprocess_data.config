// Copyright (C) 2022 Roberto Rossini <roberros@uio.no>
//
// SPDX-License-Identifier: MIT

params {
    data_dir = 'data'
    input_dir = "${data_dir}/input"
    output_dir = "${data_dir}/output/preprocessing"

    grch38_assembly_name_short = 'GRCh38'
    grch38_assembly_name = "${grch38_assembly_name_short}.p14"
    grch38_assembly_name_long = "GCF_000001405.40_${grch38_assembly_name}"

    grch38_assembly_report = "${input_dir}/${grch38_assembly_name_short}/${grch38_assembly_name_short}_assembly_report.txt.gz"
    grch38_genome_assembly = "${input_dir}/${grch38_assembly_name_short}/${grch38_assembly_name_short}_genome_assembly.fna.gz"

    microarray_cnvs = "${input_dir}/NCBI35/microarrays/GSE19920_MCF10A_series_cnvs.txt.gz"
    microarray_probe_dbs = "${input_dir}/NCBI35/microarrays/affymetrix_probes_mapping250K_{Nsp,Sty}.tsv.gz"
    hg17_to_hg38_liftover_chain = "${input_dir}/NCBI35/liftover/hg17_to_hg38.over.chain.gz"

    hg38_assembly_in = "${input_dir}/hg38/hg38.fa.gz"
    hg38_assembly_out = "assemblies/hg38_genome_assembly.fna"

    hg38_gtf_in = "${input_dir}/hg38/hg38.gtf.gz"
    hg38_gtf_out = "annotations/hg38_gencode_v43.gtf"

    hic_fastq_pattern = "${input_dir}/raw_data/hic/HiC_*{R1,R2}.fastq.gz"
    fastq_chunk_size = 20000000
}

process {
    container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/utils:1.0.1'
    withName: process_microarray_data {
        container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/microarray-analysis:1.0.0'
    }
    withName: split_fastq_pair {
        container = 'ghcr.io/paulsengroup/2022-mcf10a-cancer-progression/seqkit:2.4.0'
    }
}
